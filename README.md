# reddit-topic-modelling

## Characteristics

Given JSON files extracted from Reddit's API (submissions), preprocess the text and perform topic modelling using **gensim**. Used **LDA**, **LSI** and **HDP**.

## Requeriments

### **Using Anaconda (Windows x64)**

* If not installed go to and select your version: https://www.anaconda.com/products/distribution
  * Make sure *\<anaconda install path>/* and *\<anaconda install path>/Scripts* are added to your environment variables
  * If there are SSL issues refer to: https://stackoverflow.com/questions/50125472/issues-with-installing-python-libraries-on-windows-condahttperror-http-000-co (top answer) 
* For a simple use guide refer to: https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf

To create the environment with all the required dependencies execute:

```
conda env create --file environment.yml
```

And then run:

```
conda activate reddit-topic-modelling
```

### **Alternative approaches (Mac, Linux?)**

Two *requirements.txt* files are provided, one with all versions (might not be compatible) and another one (*requirements_no_version.txt*) without any version fixed. In the latter case the latest package avaible will be installed.

```
python -m pip install -r requirements.txt
```

## Usage

The files to be provided in the 'data' folder are expected to be in JSONL format (one valid JSON per line) and at least containt the fields 'title' and 'selftext'. In addition, the name of the files is expected to contain at least the EXACT name of the subreddit to be used as control (the name of this subreddit is expected to be passed as an argument to the 'main' function).

There are two execution modes:

*Preprocess the datasets*

```
python main.py -pre <subreddit_control: string> <use spacy: True/False> <stem: True/False>
```

*Extract topics*

```
python main.py -top <type of preprocessing: string (base | base_stem | spacy | spacy_stem)>
```

**Examples of executions**

*Preprocess all the data using spacy withourt stemming and the control subreddit is 'ImmigrationCanada'*

```
python main.py -pre ImmigrationCanada True False
```

*Extract all the topics given the files generated by the preprocessing described above (spacy and no stemming)*

```
python main.py -top spacy
```
